<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¶ÙˆØ¡ </title>
    <style>
        /* 1. Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© */
        * { box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            margin: 0; display: flex; height: 100vh; 
            background-color: #f0f4f8; overflow: hidden;
            direction: rtl;
        }

        /* 2. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Sidebar) */
        .sidebar {
            width: 300px; background-color: #1e3a5f; color: white;
            display: flex; flex-direction: column; padding: 20px;
            box-shadow: -4px 0 15px rgba(0,0,0,0.2);
            transition: 0.4s ease; z-index: 2000; 
        }
        .sidebar h2 { 
            text-align: center; font-size: 1.3em; color: #90cdf4; 
            border-bottom: 1px solid #2c5282; padding-bottom: 15px; 
        }

        /* 3. Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø§Ù„Ø¹Ù„ÙˆÙŠ (Header) */
        .mobile-header { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 60px; 
            background: #1e3a5f; color: white; align-items: center; 
            justify-content: center; z-index: 1000; 
            font-weight: 900; font-size: 1.4em; letter-spacing: 0.5px;
        }
        .mobile-nav-toggle { 
            display: none; position: fixed; top: 15px; right: 15px; 
            z-index: 1100; cursor: pointer; background: transparent; 
            color: white; border: none; font-size: 26px; 
        }
        .overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; 
            height: 100%; background: rgba(0,0,0,0.5); z-index: 1500; 
        }

        /* 4. Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
        .menu-btn { 
            background: #2a4365; color: #ebf8ff; border: none; 
            padding: 14px; margin-bottom: 10px; border-radius: 10px; 
            cursor: pointer; text-align: right; font-size: 1em; 
            transition: 0.3s; width: 100%;
        }
        .menu-btn:hover { background: #3182ce; }
        .menu-btn.active { background: #4299e1; font-weight: bold; }
        .home-btn { 
            margin-top: auto; padding: 12px; 
            background: linear-gradient(135deg, #48bb78, #38a169); 
            color: white; text-decoration: none; border-radius: 10px; text-align: center; 
        }

        /* 5. Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content { flex: 1; padding: 20px; display: flex; overflow: hidden; position: relative; }
        .display-card { 
            width: 100%; height: 100%; background: white; border-radius: 15px; 
            display: none; overflow-y: auto; padding: 20px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); 
        }
        .active-card { display: block; }
        iframe { width: 100%; height: 100%; border: none; border-radius: 10px; }

        /* 6. Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ù…Ø¤Ù‚Øª */
        #quiz-timer { 
            background: #e74c3c; color: white; padding: 10px 20px; 
            border-radius: 8px; font-weight: bold; position: sticky; 
            top: 0; z-index: 10; display: inline-block; margin-bottom: 20px; 
        }
        .question-item { 
            background: #f7fafc; padding: 15px; border-radius: 10px; 
            margin-bottom: 15px; border-right: 5px solid #4299e1; 
        }
        .correct-answer { background-color: #d4edda !important; border-right: 5px solid #28a745 !important; }
        .wrong-answer { background-color: #f8d7da !important; border-right: 5px solid #dc3545 !important; }
        .feedback-text { font-weight: bold; margin-top: 10px; display: none; color: #c0392b; }

        /* 7. Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 768px) {
            body { height: auto; overflow-y: auto; }
            .sidebar { position: fixed; right: -310px; top: 0; height: 100vh; width: 280px; }
            .sidebar.open { right: 0; }
            .mobile-header { display: flex; }
            .mobile-nav-toggle { display: block; }
            .overlay.active { display: block; }
            
            /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø´Ùˆ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ø±ÙŠØ¶ */
            .main-content { padding: 75px 8px 10px 8px; height: calc(100vh - 10px); }
            .display-card { padding: 12px; border-radius: 10px; height: 100%; }
            
            /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø§Ø´Ø§Øª ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            #pdf-div, #video-div, #lab-div { height: 82vh; }
            #result-box { margin-bottom: 100px; }
        }
    </style>
</head>
<body>
    <div class="mobile-header">space4learn</div>
    <button class="mobile-nav-toggle" onclick="toggleSidebar()">â˜°</button>
    <div id="overlay" class="overlay" onclick="toggleSidebar()"></div>
    <div class="sidebar"id="sidebar">
        <h2>ğŸ’¡Ø§Ù„Ø¶ÙˆØ¡ ÙˆØ¸ÙˆØ§Ù‡Ø±Ù‡</h2>
        <button class="menu-btn active" onclick="showContent('pdf-div', this)">ğŸ“„ Ø´Ø±Ø­ Ø§Ù„Ø¯Ø±Ø³</button>
        <button class="menu-btn" onclick="showContent('video-div', this)">ğŸ¬ ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨</button>
        <button class="menu-btn" onclick="showContent('lab-div', this)">ğŸ§ª Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</button>
        <button class="menu-btn" onclick="showContent('quiz-div', this)">ğŸ“ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„40 Ø³Ø¤Ø§Ù„</button>
        <a href="index.html" class="home-btn">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    </div>

    <div class="main-content">
        <div id="pdf-div" class="display-card active-card">
           <div style="position: relative; width: 100%; height: 0; padding-top: 100.0000%;
 padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
 border-radius: 8px; will-change: transform;">
  <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
    src="https://www.canva.com/design/DAG71_ybA-8/EiE3_UzwRoCM-yqG0-J6xQ/view?embed" allowfullscreen="allowfullscreen" allow="fullscreen">
  </iframe>
</div>
<a href="https:&#x2F;&#x2F;www.canva.com&#x2F;design&#x2F;DAG71_ybA-8&#x2F;EiE3_UzwRoCM-yqG0-J6xQ&#x2F;view?utm_content=DAG71_ybA-8&amp;utm_campaign=designshare&amp;utm_medium=embeds&amp;utm_source=link" target="_blank" rel="noopener">light</a> by Ammar Barakat
        </div>

        <div id="video-div" class="display-card">
            <iframe src="https://www.youtube.com/embed/w2s2fZr8sqQ" allowfullscreen></iframe>
        </div>

        <div id="lab-div" class="display-card">
            <iframe src="https://phet.colorado.edu/sims/html/wave-interference/latest/wave-interference_ar.html"></iframe>
        </div>

        <div id="quiz-div" class="display-card">
            <div id="quiz-timer">â±ï¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer-display">10:00</span></div>
            <h3>ğŸ“ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¶ÙˆØ¡ -Ø§Ù„Ø²Ù…Ù† 10 Ø¯Ù‚Ø§Ø¦Ù‚</h3>
            <div id="quiz-container"></div>
            <button id="submit-quiz-btn" onclick="calculateScore(true)" style="width:100%; padding:15px; background:#27ae60; color:white; border:none; border-radius:10px; font-weight:bold; cursor:pointer;">Ø¥Ø±Ø³Ø§Ù„ ÙˆÙ…Ø¹Ø±ÙØ© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</button>
            <div id="result-box" style="margin-top:20px; text-align:center; font-size:1.4em; font-weight:bold; border-radius: 10px; padding: 15px;"></div>
        </div>
    </div>

    <script>
        let timerInstance;
        let timeLeft = 600; 
        let quizLoaded = false;
        let shuffledQuizData = [];
// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…Ù„Ù JSON Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ
async function prepareAndLoadQuiz() {
    try {
        // 1. Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„Ù
        const response = await fetch('questions.json');
        if (!response.ok) throw new Error("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø©");
        
        const data = await response.json();

        // 2. ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªÙ†Ø§Ø³Ø¨ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const quizFromDatabase = data.map(item => ({
            q: item.question,
            options: [item.option1, item.option2, item.option3, item.option4],
            correct: item.answer
        }));

        // 3. Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ¹Ø±Ø¶Ù‡Ø§
        shuffledQuizData = shuffle([...quizFromDatabase]);
        
        const container = document.getElementById('quiz-container');
        container.innerHTML = shuffledQuizData.map((item, i) => `
            <div class="question-item" id="q-item-${i}">
                <p><b>${i+1}. ${item.q}</b></p>
                ${shuffle([...item.options]).map(opt => `
                    <label style="display:block; margin:8px 0; cursor:pointer;">
                        <input type="radio" name="q${i}" value="${opt}"> ${opt}
                    </label>
                `).join('')}
                <div id="feedback-${i}" class="feedback-text"></div>
            </div>
        `).join('');

    } catch (error) {
        console.error("Ø®Ø·Ø£:", error);
        document.getElementById('quiz-container').innerHTML = "<p style='color:red;'>Ø¹Ø°Ø±Ø§Ù‹ØŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>";
    }
}
function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

        function toggleSidebar() {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('overlay');
            sb.classList.toggle('open');
            ov.classList.toggle('active');
        }

        function showContent(id, btn) {
            document.querySelectorAll('.display-card').forEach(c => c.classList.remove('active-card'));
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            
            // Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ ÙÙŠ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨
            const ytIframe = document.getElementById('yt-player');
            if (ytIframe && ytIframe.contentWindow) {
                if (id === 'video-div') {
                    ytIframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                } else {
                    ytIframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                }
            }

            document.getElementById(id).classList.add('active-card');
            btn.classList.add('active');
            
            if (window.innerWidth <= 768 && document.getElementById('sidebar').classList.contains('open')) {
                toggleSidebar();
            }

            if (id === 'quiz-div' && !quizLoaded) { 
                prepareAndLoadQuiz(); 
                startTimer(); 
                quizLoaded = true; 
            }
        }

        function prepareAndLoadQuiz() {
            shuffledQuizData = shuffle([...originalQuizData]);
            const container = document.getElementById('quiz-container');
            container.innerHTML = shuffledQuizData.map((item, i) => `
                <div class="question-item" id="q-item-${i}">
                    <p><b>${i+1}. ${item.q}</b></p>
                    ${shuffle([...item.options]).map(opt => `
                        <label style="display:block; margin:8px 0; cursor:pointer;">
                            <input type="radio" name="q${i}" value="${opt}"> ${opt}
                        </label>
                    `).join('')}
                    <div id="feedback-${i}" class="feedback-text"></div>
                </div>
            `).join('');
        }

        function startTimer() {
            timerInstance = setInterval(() => {
                let min = Math.floor(timeLeft / 60);
                let sec = timeLeft % 60;
                document.getElementById('timer-display').innerText = `${min}:${sec < 10 ? '0'+sec : sec}`;
                if (timeLeft-- <= 0) { clearInterval(timerInstance); calculateScore(false); }
            }, 1000);
        }

        function calculateScore(manual) {
            if(manual) clearInterval(timerInstance);
            let score = 0;
            shuffledQuizData.forEach((item, i) => {
                const sel = document.querySelector(`input[name="q${i}"]:checked`);
                const qDiv = document.getElementById(`q-item-${i}`);
                const fDiv = document.getElementById(`feedback-${i}`);
                if (sel && sel.value === item.a) { 
                    score++; qDiv.classList.add('correct-answer'); 
                } else { 
                    qDiv.classList.add('wrong-answer'); 
                    fDiv.style.display = "block"; 
                    fDiv.innerHTML = `âŒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${item.a}`; 
                }
            });
            const res = document.getElementById('result-box');
            res.style.display = "block";
            res.innerHTML = `Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! Ù†ØªÙŠØ¬ØªÙƒ: ${score} Ù…Ù† 20`;
            res.style.background = score >= 10 ? "#d4edda" : "#f8d7da";
            res.style.color = score >= 10 ? "#155724" : "#721c24";
            document.getElementById('submit-quiz-btn').disabled = true;
            document.getElementById('submit-quiz-btn').style.background = "#95a5a6";
            setTimeout(() => res.scrollIntoView({ behavior: 'smooth', block: 'center' }), 300);
        }   
	</script>
		<div style="position: fixed; bottom: 15px; left: 15px; background: rgba(30, 58, 95, 0.8); color: white; padding: 6px 15px; border-radius: 50px; font-size: 13px; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.2); z-index: 9999; direction: rtl;">
 by:   <b>Ammar Barakat  </b>
    </div>
</body>

</html>





